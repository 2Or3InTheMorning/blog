(window.webpackJsonp=window.webpackJsonp||[]).push([[170],{715:function(t,v,_){"use strict";_.r(v);var e=_(43),s=Object(e.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"h5离线包"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#h5离线包"}},[t._v("#")]),t._v(" H5离线包")]),t._v(" "),_("blockquote",[_("p",[t._v("H5离线包是 针对移动端web资源 本地缓存的解决方案。")])]),t._v(" "),_("p",[_("strong",[t._v("原理")]),t._v("：客户端通过拦截 WebView 请求，优先使用 本地缓存的静态资源 进行响应，从而提升加载性能。")]),t._v(" "),_("p",[_("strong",[t._v("流程")]),t._v("：")]),t._v(" "),_("img",{attrs:{src:"https://p6.music.126.net/obj/wo3DlcOGw6DClTvDisK1/7747115528/a3ef/810c/cbd5/d6652b5ae0b7526c3133e28294946071.png",width:"600px"}}),t._v(" "),_("p",[_("strong",[t._v("特点")])]),t._v(" "),_("ul",[_("li",[_("p",[t._v("支持"),_("strong",[t._v("差量/全量更新")]),t._v("\n\x3c!--")])]),t._v(" "),_("li",[_("p",[_("strong",[t._v("计算diff包的最大版本差")]),t._v("：每次发布新版本的时候，会将最新版本资源包与历史 "),_("code",[t._v("N")]),t._v(" 个版本做差量计算（最大限制 10） --\x3e")])]),t._v(" "),_("li",[_("p",[_("strong",[t._v("可预加载")]),t._v("：客户端在 首次打开/重启/每间隔两小时 ，可以更新（或不更新）该离线资源包的版本")])])]),t._v(" "),_("blockquote",[_("p",[t._v("每个离线包都会有个"),_("code",[t._v("md5")])]),t._v(" "),_("p",[t._v("为了优化离线包的下载速度，"),_("strong",[t._v("一般限制体积为2M")])])]),t._v(" "),_("h3",{attrs:{id:"让h5具备离线包能力"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#让h5具备离线包能力"}},[t._v("#")]),t._v(" 让H5具备离线包能力")]),t._v(" "),_("p",[t._v("前端保持 原有的开发部署 流程。")]),t._v(" "),_("p",[_("strong",[t._v("生成离线包")]),t._v("：通过 webpack plugin 生成压缩文件，上传到 “离线包配置平台” 。")]),t._v(" "),_("blockquote",[_("p",[t._v("“离线包配置平台” 用于管理各个离线包应用")])])])}),[],!1,null,null,null);v.default=s.exports}}]);