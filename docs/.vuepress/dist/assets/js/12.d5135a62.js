(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{397:function(s,t,a){s.exports=a.p+"assets/img/webStorage-1.bdb143f6.png"},398:function(s,t,a){s.exports=a.p+"assets/img/webStorage-2.ce82a6c7.png"},399:function(s,t,a){s.exports=a.p+"assets/img/webStorage-3.4522fb81.png"},400:function(s,t,a){s.exports=a.p+"assets/img/webStorage-5.895484fc.png"},401:function(s,t,a){s.exports=a.p+"assets/img/webStorage-4.c3297188.png"},443:function(s,t,a){"use strict";a.r(t);var e=a(3),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"webstorage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webstorage"}},[s._v("#")]),s._v(" WebStorage")]),s._v(" "),e("blockquote",[e("p",[s._v("平时我们讲的HTML 5本地存储，多指的是web Storage")])]),s._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#webstorage"}},[s._v("WebStorage")]),e("ul",[e("li",[e("a",{attrs:{href:"#localstorage"}},[s._v("localStorage")])]),e("li",[e("a",{attrs:{href:"#sessionstorage"}},[s._v("sessionStorage")])]),e("li",[e("a",{attrs:{href:"#cookie"}},[s._v("cookie")])]),e("li",[e("a",{attrs:{href:"#localstorage、sessionstorage、cookie的区别"}},[s._v("localStorage、sessionStorage、cookie的区别")])]),e("li",[e("a",{attrs:{href:"#同源的规则判断"}},[s._v("同源的规则判断")])]),e("li",[e("a",{attrs:{href:"#图示"}},[s._v("图示")])]),e("li",[e("a",{attrs:{href:"#cookie和session的区别"}},[s._v("cookie和session的区别")])])])])])]),e("p"),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",[s._v("API")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("setItem")]),s._v("(key, value)\n"),e("ul",[e("li",[s._v("保存数据")])])]),s._v(" "),e("li",[e("strong",[s._v("getItem")]),s._v("(key)\n"),e("ul",[e("li",[s._v("获取数据")])])]),s._v(" "),e("li",[e("strong",[s._v("removeItem")]),s._v("(key)\n"),e("ul",[e("li",[s._v("删除单个数据")])])]),s._v(" "),e("li",[e("strong",[s._v("clear")]),s._v("( )\n"),e("ul",[e("li",[s._v("删除所有数据")])])])])]),s._v(" "),e("h2",{attrs:{id:"localstorage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#localstorage"}},[s._v("#")]),s._v(" localStorage")]),s._v(" "),e("h4",{attrs:{id:"生命周期：永久。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生命周期：永久。"}},[s._v("#")]),s._v(" 生命周期：永久。")]),s._v(" "),e("p",[s._v("即使"),e("strong",[s._v("关闭浏览器，也不会让数据消失")]),s._v("（除非主动删除数据）")]),s._v(" "),e("h4",{attrs:{id:"大小：5mb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#大小：5mb"}},[s._v("#")]),s._v(" 大小：5MB")]),s._v(" "),e("h4",{attrs:{id:"用法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[s._v("#")]),s._v(" 用法")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[s._v("localStorage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("setItem")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'heshiyu'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nlocalStorage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getItem")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 'heshiyu'")]),s._v("\nlocalStorage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("removeItem")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nlocalStorage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h2",{attrs:{id:"sessionstorage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sessionstorage"}},[s._v("#")]),s._v(" sessionStorage")]),s._v(" "),e("h4",{attrs:{id:"生命周期：浏览器关闭前。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生命周期：浏览器关闭前。"}},[s._v("#")]),s._v(" 生命周期：浏览器关闭前。")]),s._v(" "),e("p",[s._v("即在整个浏览器"),e("strong",[s._v("未关闭前，其数据都是一直存在")]),s._v("的。")]),s._v(" "),e("h4",{attrs:{id:"大小：5mb。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#大小：5mb。"}},[s._v("#")]),s._v(" 大小：5MB。")]),s._v(" "),e("h4",{attrs:{id:"用法-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用法-2"}},[s._v("#")]),s._v(" 用法")]),s._v(" "),e("p",[s._v("和localStorage类似")]),s._v(" "),e("h4",{attrs:{id:"特殊之处"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特殊之处"}},[s._v("#")]),s._v(" 特殊之处")]),s._v(" "),e("ul",[e("li",[s._v("同一个浏览器、不同的Tab的sessionStorage各自独立（详见下方图示）")]),s._v(" "),e("li",[s._v("同一Tab下的同源页面（即多个iframe）可以访问同一个sessionStorage")]),s._v(" "),e("li",[s._v("页面刷新不会删除数据")])]),s._v(" "),e("h2",{attrs:{id:"cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[s._v("#")]),s._v(" cookie")]),s._v(" "),e("p",[s._v("每次HTTP请求都会携带。\n就算窗口或浏览器关闭，只要在设置的cookie过期时间内，都一直有效。")]),s._v(" "),e("h4",{attrs:{id:"生命周期：设置的过期时间内都有效。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生命周期：设置的过期时间内都有效。"}},[s._v("#")]),s._v(" 生命周期：设置的过期时间内都有效。")]),s._v(" "),e("h4",{attrs:{id:"大小：每个4kb，且一般不能超过20个"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#大小：每个4kb，且一般不能超过20个"}},[s._v("#")]),s._v(" 大小：每个4KB，且一般不能超过20个")]),s._v(" "),e("h4",{attrs:{id:"用法-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用法-3"}},[s._v("#")]),s._v(" 用法")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置cookie（请求头中的Expires可以设置有效期，0或者负数表示：关闭页面马上清除Cookie）")]),s._v("\ndocument"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cookie "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name='")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" myName "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("';age='")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" myAge "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'expires='")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" exp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("toGTMString")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 读取cookie")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" data "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cookie "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 然后按照需要，找到指定的key来分割")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 假设cookie的内容为：name=heshiyu;age=22;expires=Thu, 18 Dec 2043 12:00:00 GMT")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" getName "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cookie"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("split")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("';'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("split")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'='")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 修改cookie 类似于创建cookie")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 删除cookie 只需设置expires的时间为“已过期的时间”即可（此时浏览器关闭时会删除）")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h2",{attrs:{id:"localstorage、sessionstorage、cookie的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#localstorage、sessionstorage、cookie的区别"}},[s._v("#")]),s._v(" localStorage、sessionStorage、cookie的区别")]),s._v(" "),e("h4",{attrs:{id:"共同点："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#共同点："}},[s._v("#")]),s._v(" 共同点：")]),s._v(" "),e("ul",[e("li",[s._v("都是保存在浏览器端、且同源（是按url归类）的")]),s._v(" "),e("li",[s._v("均只能存储字符串类型")])]),s._v(" "),e("h4",{attrs:{id:"区别："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#区别："}},[s._v("#")]),s._v(" 区别：")]),s._v(" "),e("ul",[e("li",[s._v("【大小】cookie大小不超过4KB（只适合保存很小的数据，如会话标识）；sessionStorage和localStorage有5MB或更大；")]),s._v(" "),e("li",[s._v("【发送方式】\n"),e("ul",[e("li",[s._v("cookie数据始终在同源的http请求中携带（即使用不到）；")]),s._v(" "),e("li",[s._v("sessionStorage和localStorage不会自动把数据发送给服务器；")])])]),s._v(" "),e("li",[s._v("【指定路径】cookie有路径（path）概念，可以限制cookie只属于某个路径下")]),s._v(" "),e("li",[s._v("【有效期】\n"),e("ul",[e("li",[s._v("localStorage：始终有效；")]),s._v(" "),e("li",[s._v("sessionStorage：尽在当前浏览器窗口关闭前有效；")]),s._v(" "),e("li",[s._v("cookie：在过期时间前都有效（即使浏览器窗口关闭也不影响）；")])])]),s._v(" "),e("li",[s._v("【事件通知】支持事件通知机制，可以将数据更新的通知发送给监听者")]),s._v(" "),e("li",[s._v("【作用域】（具体图示见下方）\n"),e("ul",[e("li",[s._v("同一浏览器、不同页面、只要同源，localStorage都可以共享；"),e("a",{attrs:{href:"#%E5%9B%BE%E7%A4%BA"}},[s._v("图示")])]),s._v(" "),e("li",[s._v("同一浏览器、不同页面（或同源但处于不同标签页），sessionStorage无法共享；"),e("a",{attrs:{href:"#%E5%9B%BE%E7%A4%BA"}},[s._v("图示")])]),s._v(" "),e("li",[s._v("同一标签页、带有多个属于同源页面iframe，这些iframe的sessionStorage可以共享")])])])]),s._v(" "),e("h2",{attrs:{id:"同源的规则判断"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#同源的规则判断"}},[s._v("#")]),s._v(" 同源的规则判断")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("http://www.test.com\n\nhttp://www.test.com:8080（不同源：端口不同）\n\nhttps://www.test.com（不同源：协议不同）\n\nhttp://my.test.com（不同源：主机名不同）\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h2",{attrs:{id:"图示"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#图示"}},[s._v("#")]),s._v(" 图示")]),s._v(" "),e("h4",{attrs:{id:"_1、同一浏览器、不同页面、只要同源，localstorage都可以共享"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、同一浏览器、不同页面、只要同源，localstorage都可以共享"}},[s._v("#")]),s._v(" 1、同一浏览器、不同页面、只要同源，localStorage都可以共享")]),s._v(" "),e("p",[e("img",{attrs:{src:a(397),alt:"alt"}})]),s._v(" "),e("p",[e("img",{attrs:{src:a(398),alt:"alt"}})]),s._v(" "),e("h4",{attrs:{id:"_2、同一浏览器、不同页面（或同源但处于不同标签页），sessionstorage无法共享"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、同一浏览器、不同页面（或同源但处于不同标签页），sessionstorage无法共享"}},[s._v("#")]),s._v(" 2、同一浏览器、不同页面（或同源但处于不同标签页），sessionStorage无法共享")]),s._v(" "),e("p",[e("img",{attrs:{src:a(399),alt:"alt"}})]),s._v(" "),e("p",[e("img",{attrs:{src:a(400),alt:"alt"}})]),s._v(" "),e("p",[e("img",{attrs:{src:a(401),alt:"alt"}})]),s._v(" "),e("h2",{attrs:{id:"cookie和session的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie和session的区别"}},[s._v("#")]),s._v(" cookie和session的区别")]),s._v(" "),e("p",[e("code",[s._v("cookie")])]),s._v(" "),e("ul",[e("li",[e("code",[s._v("保存在客户端")]),s._v("的小文本")]),s._v(" "),e("li",[s._v("可保存sessionID")]),s._v(" "),e("li",[s._v("不安全")])]),s._v(" "),e("p",[e("code",[s._v("session")])]),s._v(" "),e("ul",[e("li",[e("code",[s._v("保存在服务端")]),s._v("的有关浏览器会话的信息")]),s._v(" "),e("li",[s._v("运行依赖sessionID\n"),e("ul",[e("li",[s._v("创建前，服务端会先检查请求头里是否包含session id。若有，且未过期，则直接用旧的）")])])]),s._v(" "),e("li",[s._v("有失效时间")]),s._v(" "),e("li",[s._v("安全")])]),s._v(" "),e("p",[s._v("一句话："),e("code",[s._v("session")]),s._v("的实现一般需要借助"),e("code",[s._v("cookie")]),s._v("来发送"),e("code",[s._v("sessionID")])])])}),[],!1,null,null,null);t.default=r.exports}}]);