(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{478:function(v,_,e){"use strict";e.r(_);var t=e(3),a=Object(t.a)({},(function(){var v=this,_=v.$createElement,e=v._self._c||_;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("h1",{attrs:{id:"浏览器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器"}},[v._v("#")]),v._v(" 浏览器")]),v._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#浏览器"}},[v._v("浏览器")]),e("ul",[e("li",[e("a",{attrs:{href:"#浏览器内核"}},[v._v("浏览器内核")])]),e("li",[e("a",{attrs:{href:"#浏览器缓存"}},[v._v("浏览器缓存")])]),e("li",[e("a",{attrs:{href:"#输入url，会发生什么？（完整的http过程）"}},[v._v("输入URL，会发生什么？（完整的http过程）")])])])])])]),e("p"),v._v(" "),e("h2",{attrs:{id:"浏览器内核"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器内核"}},[v._v("#")]),v._v(" 浏览器内核")]),v._v(" "),e("ul",[e("li",[v._v("Trident （IE内核）")]),v._v(" "),e("li",[v._v("Gecko （Firefox内核）")]),v._v(" "),e("li",[v._v("Presto（Opera，已废弃）")]),v._v(" "),e("li",[v._v("Webkit（Safari、Chrome28前）")]),v._v(" "),e("li",[v._v("Blink（Chrome28后）")])]),v._v(" "),e("h2",{attrs:{id:"浏览器缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器缓存"}},[v._v("#")]),v._v(" 浏览器缓存")]),v._v(" "),e("p",[v._v("第一次请求成功后，再次请求同一个网页：")]),v._v(" "),e("ul",[e("li",[v._v("获取第一次请求成功后缓存下来的"),e("code",[v._v("Header")]),v._v("，里面包括："),e("code",[v._v("Expires")]),v._v("、"),e("code",[v._v("Cache-control")]),v._v("、"),e("code",[v._v("Last-Modified")]),v._v("和"),e("code",[v._v("ETag")]),v._v("。前两者属于强缓存，后两者属于协商缓存")]),v._v(" "),e("li",[v._v("先看"),e("code",[v._v("Expires")]),v._v("和"),e("code",[v._v("Cache-control")]),v._v("，检查是否命中 "),e("code",[v._v("强缓存")]),v._v(" "),e("ul",[e("li",[v._v("若是，直接从本地磁盘获取资源（200）")]),v._v(" "),e("li",[v._v("若不是，再看"),e("code",[v._v("Last-Modified")]),v._v("、"),e("code",[v._v("ETag")]),v._v("检查是否命中 "),e("code",[v._v("协商缓存")]),v._v(" "),e("ul",[e("li",[v._v("若是，浏览器会响应新的Header信息给客户端（但不会返回资源内容），没有新修改的地方（304）")]),v._v(" "),e("li",[v._v("若不是，响应全新的资源内容给客户端")])])])])])]),v._v(" "),e("h2",{attrs:{id:"输入url，会发生什么？（完整的http过程）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#输入url，会发生什么？（完整的http过程）"}},[v._v("#")]),v._v(" 输入URL，会发生什么？（完整的http过程）")]),v._v(" "),e("p",[v._v("1、浏览器输入url")]),v._v(" "),e("p",[v._v("2、浏览器检查"),e("code",[v._v("强缓存")]),v._v("（Expires、Cache-control）")]),v._v(" "),e("p",[v._v("3、DNS解析url，获取主机ip")]),v._v(" "),e("p",[v._v("4、组装HTTP报文")]),v._v(" "),e("p",[v._v("5、发起TCP的3次握手")]),v._v(" "),e("p",[v._v("6、TCP连接建立后，发送HTTP请求")]),v._v(" "),e("p",[v._v("7、服务器接收并解析，检查"),e("code",[v._v("协商缓存")]),v._v("（ETag、Last-Modified）")]),v._v(" "),e("p",[v._v("8、通过TCP返回响应报文")]),v._v(" "),e("p",[v._v("9、浏览器缓存响应")]),v._v(" "),e("p",[v._v("10、浏览器进行"),e("code",[v._v("解析HTML（构造DOM树）")]),v._v("、"),e("code",[v._v("下载资源")]),v._v("、"),e("code",[v._v("构造CSSOM树")]),v._v("、"),e("code",[v._v("执行JS脚本")])]),v._v(" "),e("blockquote",[e("p",[v._v("HTML解析器会根据HTML文档，从上往下进行解析")]),v._v(" "),e("p",[v._v("DOM的渲染，是在加载完"),e("code",[v._v("<head>")]),v._v("里的css、js后开始执行的")]),v._v(" "),e("p",[v._v("所以，最好不要把js放在"),e("code",[v._v("<head>")]),v._v("(特别是操作DOM的js)")]),v._v(" "),e("p",[v._v("对于没有声明defer、async的"),e("code",[v._v("<script>")]),v._v("就会按顺序直接加载、执行。"),e("code",[v._v("JS引擎")]),v._v("会抢夺"),e("code",[v._v("HTML解析器")]),v._v("的控制权。直到加载、执行完才会把控制权交给"),e("code",[v._v("渲染引擎")])])])])}),[],!1,null,null,null);_.default=a.exports}}]);