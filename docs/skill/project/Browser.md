严选@张浩

使用“微前端”的背景
1、应用越来越大，单独一个前端项目难以支持庞大的业务；
2、某些完整的模块（功能集合）需要在不同的系统使用；
3、切换技术栈带来的框架不一致（并行跑）；

目标
1、独立开发、运行、部署
2、框架无关
3、应用自由组合
4、配套的数据层（API）解决方案
5、优秀的用户体验（尽量无感知）


子应用的环境感知
1、子应用并不关注自己运行在哪个环境中
2、在不同的产品/项目里访问这个子应用，可以获取header中的“一些自定义字段”来请求对应不同产品/项目的数据。

应用模块隔离
1、子应用的模块切换回refresh页面，无需考虑子应用之间的模块隔离；
2、主应用隔离
 2.1 css隔离，命名空间隔离
 2.2 js隔离，即会引起全局资源竞争的第三方包隔离。


Single-SPA
1、子应用需要实现多个生命周期钩子，冗余的代码实现；
2、非iframe方案，未考虑全局的资源竞争问题；
3、iframe方案，中心区域的iframe无法控制左侧和顶部，导致弹窗等组件定位问题，且会增加数据共享、模块通信的复杂度；
4、没有数据共享、模块通信的解决方案，需自行设计；
5、没有API层设计的解决方案，仍需自行设计